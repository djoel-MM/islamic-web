<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Detail Kajian</title>
  <link rel="stylesheet" href="src/output.css" />
</head>

<body class="bg-amber-50 min-h-screen">
  <section class="max-w-6xl mx-auto p-8">

    <h1 class="text-3xl font-bold text-amber-600 mb-8 text-center">
      Detail Kajian
    </h1>



    <div class="flex justify-around md:flex-row bg-white shadow-2xl rounded-3xl overflow-hidden">
      <div class="md:w-1/2 bg-amber-50 overflow-hidden rounded-3xl aspect-4/3">
        <img id="poster" class="w-full h-full object-contain" />
      </div>




      <div class="md:w-1/2 p-6 flex flex-col justify-between">
        <div>
          <h2 id="judul" class="text-2xl font-semibold text-gray-800 mb-3">

          </h2>
          <p id="lokasi" class="text-sm text-gray-600 mb-1">

          </p>
          <p id="waktu" class="text-sm text-gray-500 mb-3">

          </p>
          <p id="deskripsi" class="text-gray-700 text-sm mb-4">

          </p>
          <p id="kontak" class="text-gray-500 text-sm italic mb-6">

          </p>
        </div>
        <a href="index.html"
          class="bg-amber-500 text-white px-5 py-2 rounded-lg w-max hover:bg-amber-600 transition flex justify-center">
          ‚Üê Kembali
        </a>
      </div>
    </div>


    <div class="mt-12">
      <h3 class="text-xl font-semibold text-gray-800 mb-6 text-center">
        Kajian Lainnya
      </h3>
      <div id="posterLain" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
      </div>
    </div>
  </section>






  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // Ambil parameter ID dari URL
      const params = new URLSearchParams(window.location.search);
      const id = params.get("id");
      if (!id) return alert("ID tidak ditemukan!");

      // Ambil semua data kajian dari localStorage
      const dataKajian = JSON.parse(localStorage.getItem("kajianList")) || [];

      // Cari kajian dengan ID yang cocok
      const kajian = dataKajian.find(k => k.id == id);
      if (!kajian) return alert("Kajian tidak ditemukan!");

      // Masukkan datanya ke halaman
      document.getElementById("poster").src = kajian.poster_url;
      document.getElementById("judul").textContent = kajian.judul;
      document.getElementById("lokasi").textContent = `üìç ${kajian.lokasi}`;
      document.getElementById("waktu").textContent = `üïì ${new Date(kajian.waktu).toLocaleString()}`;
      document.getElementById("deskripsi").textContent = kajian.deskripsi;
      document.getElementById("kontak").textContent = `üìû ${kajian.kontak}`;

      // === Kajian Lainnya ===
      const posterLain = document.getElementById("posterLain");
      dataKajian
        .filter(k => k.id != id) // selain yang sedang dibuka
        .slice(0, 3) // maksimal 3
        .forEach(k => {
          const div = document.createElement("div");
          div.className = "bg-white shadow-lg rounded-2xl overflow-hidden hover:shadow-2xl transition";
          div.innerHTML = `
        <img src="${k.poster_url}" alt="${k.judul}"   class="w-full h-48 object-cover" />
        <div class="p-4">
          <h4 class="text-base font-semibold text-gray-800 mb-2">${k.judul}</h4>
          <a href="detail.html?id=${k.id}" class="text-amber-600 text-sm font-medium hover:underline">Lihat Detail ‚Üí</a>
        </div>
      `;
          posterLain.appendChild(div);
        });
    });
  </script>

</body>

</html>




    

    